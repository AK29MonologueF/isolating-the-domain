<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout :: htmlhead(~{::title})">
  <meta charset="utf-8"/>
  <title>勤務時間の入力</title>
</head>
<body>
<div th:replace="fragments/menuHead::menuHead('勤務時間入力')"></div>

<section class="hero">
  <div class="hero-body">
    <div class="container has-text-centered">
      <h1 class="title">
        勤務時間の入力
      </h1>
    </div>
  </div>
</section>

<div class="container">
  <form id="custom-form" class="form" name="body"
          method="post" action="#"
          th:object="${attendanceForm}"
          th:action="@{/timerecord}">

    <div class="attendanceInput has-text-centered">
      <div class="field is-horizontal">
        <div class="field-label">
          <label class="label">氏名</label>
        </div>
        <div class="field-body">
          <p class="control　is-expanded">
            <p class="select is-fullwidth">
              <select th:field="*{employeeNumber}">
                <option th:each="employee : ${employees.list()}" th:value="${employee.employeeNumber()}" th:text="${employee.name()}">
                  DUMMY
                </option>
              </select>
            </p>
          </p>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label">
          <label class="label">勤務日</label>
        </div>
        <div class="field-body">
          <div class="field">
            <p class="control">
              <input class="input" type="date" placeholder="2018-01-01"
                     th:field="*{workDate.value}"/>
            </p>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('workDate.value')}">
                <span th:errors="*{workDate.value}">勤務日を入力してください</span>
            </p>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">開始時刻</label>
        </div>
        <div class="field-body">
          <div class="field is-expanded">
            <div class="field has-addons">
              <p class="control is-expanded">
                <input class="input" type="text" placeholder="9"
                       th:field="*{startTimeForm.hour.value}"/>
              </p>
              <p class="control">
                <a class="button is-static">時</a>
              </p>
            </div>
            <p class="help is-danger has-text-left"
             th:if="${#fields.hasErrors('startTimeForm.valid')}">
              <span th:errors="*{startTimeForm.valid}">開始時刻が不正です</span>
            </p>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('startTimeForm.hour.value')}">
              <span th:errors="*{startTimeForm.hour.value}">開始時刻を入力してください</span>
            </p>
            <p class="help is-danger has-text-left"
             th:if="${#fields.hasErrors('startTimeForm.minute.value')}">
              <span th:errors="*{startTimeForm.minute.value}">開始時刻を入力してください</span>
            </p>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('overlapWithPreviousWorkRange')}">
              <span th:errors="*{overlapWithPreviousWorkRange}">前日の勤務時刻と重複しています</span>
            </p>
          </div>
          <div class="field is-expanded">
            <div class="field has-addons">
              <p class="control is-expanded">
                <input class="input" type="text" placeholder="30"
                       th:field="*{startTimeForm.minute.value}"/>
              </p>
              <p class="control">
                <a class="button is-static">
                  分
                </a>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">終了時刻</label>
        </div>
        <div class="field-body">
          <div class="field is-expanded">
            <div class="field has-addons">
              <p class="control is-expanded">
                <input class="input" type="text" placeholder="12"
                       th:field="*{endTimeForm.hour.value}"/>
              </p>
              <p class="control">
                <a class="button is-static">
                  時
                </a>
              </p>
            </div>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('endTimeForm.valid')}">
              <span th:errors="*{endTimeForm.valid}">終了時刻が不正です</span>
            </p>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('endTimeForm.hour.value')}">
              <span th:errors="*{endTimeForm.hour.value}">終了時刻を入力してください</span>
            </p>
            <p class="help is-danger has-text-left"
             th:if="${#fields.hasErrors('endTimeForm.minute.value')}">
              <span th:errors="*{endTimeForm.minute.value}">終了時刻を入力してください</span>
            </p>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('timeRecord.actualWorkDateTime.workRange.workTimeValid')}">
              <span th:errors="*{timeRecord.actualWorkDateTime.workRange.workTimeValid}">終了時刻には開始時刻よりあとの時刻を入力してください</span>
            </p>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('overlapWithNextWorkRange')}">
              <span th:errors="*{overlapWithNextWorkRange}">翌日の勤務時刻と重複しています</span>
            </p>
          </div>
          <div class="field is-expanded">
            <div class="field has-addons">
              <p class="control is-expanded">
                <input class="input" type="text" placeholder="30"
                       th:field="*{endTimeForm.minute.value}"/>
              </p>
              <p class="control">
                <a class="button is-static">
                  分
                </a>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">休憩時間</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="field has-addons">
              <p class="control">
                <input class="input" type="text" placeholder="15"
                       th:field="*{daytimeBreakTime.value.value}"/>
              </p>
              <p class="control">
                <a class="button is-static">
                  分
                </a>
              </p>
            </div>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('daytimeBreakTime.value.value')}">
              <span th:errors="*{daytimeBreakTime.value.value}">休憩時間が不正です</span>
            </p>
            <p class="help is-danger has-text-left"
             th:if="${#fields.hasErrors('timeRecord.actualWorkDateTime.daytimeBreakTimeValid')}">
              <span th:errors="*{timeRecord.actualWorkDateTime.daytimeBreakTimeValid}">休憩時間が不正です</span>
            </p>
          </div>
        </div>
      </div>

      <div class="field is-horizontal">
        <div class="field-label is-normal">
          <label class="label">休憩時間（深夜）</label>
        </div>
        <div class="field-body">
          <div class="field">
            <div class="field has-addons">
              <p class="control">
                <input class="input" type="text" placeholder="15"
                       th:field="*{nightBreakTime.value.value}"/>
              </p>
              <p class="control">
                <a class="button is-static">
                  分
                </a>
              </p>
            </div>
            <p class="help is-danger has-text-left"
               th:if="${#fields.hasErrors('nightBreakTime.value.value')}">
              <span th:errors="*{nightBreakTime.value.value}">休憩時間（深夜）が不正です</span>
            </p>
            <p class="help is-danger has-text-left"
             th:if="${#fields.hasErrors('timeRecord.actualWorkDateTime.nightBreakTimeValid')}">
              <span th:errors="*{timeRecord.actualWorkDateTime.nightBreakTimeValid}">休憩時間（深夜）が不正です</span>
            </p>
          </div>
        </div>
      </div>

      <div class="pageFooter has-text-centered">
        <button class="button is-primary is-outlined">登録</button>
      </div>
    </div>

  </form>

</div>
</body>
</html>